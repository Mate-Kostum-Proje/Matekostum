@using Mate.MVC.Areas.Admin.Models_VMs
@model List<OrderDetailsAdminVM>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="~/assets/css/main.css" asp-append-version="true" />
<br />
<br />
<br />


<section id="designcostum" class="designcostum section">

    <div class="container aos-init aos-animate" data-aos="fade-up" data-aos-delay="100">

        <div class="row gy-4">
            <div class="col-lg-12 order-1 order-lg-1 text-center">
                <img src="~/assets/img/Mate-Kostum-tasarım-main.png" class="img-fluid" alt="">
            </div>
            <div class="col-lg-12 order-2 order-lg-1 content text-center">
                <h3>Ürünler</h3>

            </div>
        </div>
    </div>

    @*Tables*@

    <br />
    <br />
    <table class="table table-bordered">
    <thead>
        <tr>
            <th>Sipariş Numarası</th>
            <th>Sipariş Veren</th>
            <th>TC NO</th>
            <th>Telefon Numarası</th>
            <th>Adres</th>
            <th>Ürün</th>
            <th>Beden</th>
            <th>Sayı</th>
            <th>Toplam Fiyat</th>
            <th>Sipariş Durumu</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.OrderId</td>
                <td>@item.CustomerName @item.CustomerSurname</td>
                <td>@item.CustomerTcNo</td>
                <td>@item.CustomerPhone</td>
                <td>@item.CustomerAddress, @item.CustomerCity, @item.CustomerDistrict</td>
                <td>@item.ProductName</td>
                <td>@item.ProductSize</td>
                <td>@item.Amount</td>
                <td>@item.TotalPrice</td>
                <td>
                    <form asp-action="UpdateSituation" method="post">

                        <input type="hidden" name="orderDetailId" value="@item.OrderDetailId" />
                        <select name="situationId" class="form-select">
                                @foreach (var situation in item.Situations)
                                {
                                    if (situation.Value == item.SelectedSituationId)
                                    {
                                        <option value="@situation.Value" selected="selected">
                                            @situation.Text
                                        </option>
                                    }
                                    else
                                    {
                                        <option value="@situation.Value">
                                            @situation.Text
                                        </option>
                                    }
                                }

                        </select>
                            <button type="submit" class="buy-now-single-product">Güncelle</button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>


    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
</section>

